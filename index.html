<!DOCTYPE HTML>

<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <title>Zen Focus</title>
  <meta name="description" content="Free native desktop application to help develop focus using the Pomodorian technique. Available for both Mac and Windows.">

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@builtwithluv">
  <meta name="twitter:title" content="Zen Focus">
  <meta name="twitter:description" content="Free native desktop application to help develop focus using the Pomodorian technique. Available for both Mac and Windows.">
  <meta name="twitter:creator" content="@chengsieuly">
  <meta name="twitter:image" content="https://res.cloudinary.com/lc8bqflyz/image/upload/v1496717548/ZenFocus/monitor.png">

  <!-- Open Graph data -->
  <meta property="fb:app_id" content="302184056577324" />
  <meta property="og:title" content="Increase Focus Time" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://zenfocus.surge.sh/" />
  <meta property="og:image" content="https://res.cloudinary.com/lc8bqflyz/image/upload/v1496717548/ZenFocus/monitor.png" />
  <meta property="og:description" content="Free native desktop application to help develop focus using the Pomodorian technique. Available for both Mac and Windows." />
  <meta property="og:site_name" content="Zen Focus" />
  <link rel=”image_src” href=”https://res.cloudinary.com/lc8bqflyz/image/upload/v1496717548/ZenFocus/monitor.png” />

  <!-- Dependencies -->
  <link href="https://unpkg.com/normalize.css@^4.1.1" rel="stylesheet" />
  <link href="https://unpkg.com/@blueprintjs/core@^1.11.0/dist/blueprint.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
  <script src="https://use.fontawesome.com/2d7372806d.js"></script>
</head>

<body class="container-fluid">
  <nav class="navbar flex-row align-items-center">
    <img
      src="https://res.cloudinary.com/lc8bqflyz/image/upload/v1495599798/ZenFocus/zen-focus-logo.png"
      alt="logo"
      class="logo img-fluid mr-1"
    >
    <h1 class="navbar-brand p-0 m-0" href="#">
      ZenFocus
    </h1>
    <a class="float-right ml-auto pr-3" href="https://github.com/builtwithluv/ZenFocus">
      <i class="fa fa-github" aria-hidden="true"></i>
    </a>
    <a class="float-right pr-3" href="https://www.facebook.com/builtwithluv">
      <i class="fa fa-facebook" aria-hidden="true"></i>
    </a>
    <a class="float-right pr-3" href="https://www.instagram.com/builtwithluv">
      <i class="fa fa-instagram" aria-hidden="true"></i>
    </a>
    <a class="float-right" href="https://twitter.com/builtwithluv">
      <i class="fa fa-twitter" aria-hidden="true"></i>
    </a>
  </nav>

  <div class="text-center d-flex flex-column justify-content-center align-items-center h-100">
    <div class="countdown-timer-container d-flex flex-column align-items-center justify-content-center">
      <div style="position: absolute">
        <div id="countdown-timer"></div>
      </div>

      <div class="d-flex timer">
        <div class="timer-minutes timer-secondary">
          00
        </div>
        <div class="timer-divider">:</div>
        <div class="timer-seconds timer-secondary">
          25
        </div>
      </div>

      <div class="row hidden-xs-down" style="z-index: 2">
        <div class="col-xs-6" style="width: 60px">
          <a
            download
            href="https://github.com/builtwithluv/ZenFocus/releases/download/v1.4.0/zen-focus-setup-1.4.0.exe"
            role="button"
            onclick="sendGADownload('windows')"
          >
            <i class="fa fa-windows fa-3x mb-3" aria-hidden="true"></i>
          </a>
        </div>
        <div class="col-xs-6 ml-3" style="width: 60px">
          <a
            download
            href="https://github.com/builtwithluv/ZenFocus/releases/download/v1.4.0/zen-focus-1.4.0-mac.zip"
            role="button"
            onclick="sendGADownload('mac')"
          >
            <i class="fa fa-apple fa-3x mb-3" aria-hidden="true"></i>
          </a>
        </div>
      </div>

      <div class="font-bold hidden-sm-up">
        Available for desktop
      </div>
    </div>

    <div class="row mb-3">
      <footer class="text-center">
        <span>Made with </span><i class="fa fa-heart text-red" aria-hidden="true"></i>
      </footer>
    </div>

    <audio id="sound-tick" src="assets/tick.mp3" title="Tick" />
    <audio id="sound-ding" src="assets/corsica-ding.mp3" title="Ding" />
  </div>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-74586919-2', 'auto');
    ga('send', 'pageview');

    function sendGADownload(platform) {
      ga('send', 'event', {
        eventCategory: 'button',
        eventAction: 'click',
        eventLabel: platform
      });
    }
  </script>

  <!-- Dependencies -->
  <script src="https://unpkg.com/classnames@^2.2"></script>
  <script src="https://unpkg.com/tether@^1.4"></script>
  <script src="https://unpkg.com/react@^15.3.1/dist/react-with-addons.min.js"></script>
  <script src="https://unpkg.com/react-dom@^15.3.1/dist/react-dom.min.js"></script>
  <script src="https://unpkg.com/@blueprintjs/core@^1.11.0"></script>

  <script>
    const countdownEl = document.querySelector('#countdown-timer');
    const tick = document.querySelector('#sound-tick');

    class Timer extends React.Component {
      constructor() {
        super();
        this.state = {
          seconds: 25
        };
      }

      tick() {
        const { seconds } = this.state;

        this.setState(prevState => {
          if (prevState.seconds < 1) {
            clearInterval(this.interval);
            return { seconds: 0 };
          }

          tick.play();
          return {
            seconds: prevState.seconds - 1
          };
        });
      }

      componentDidMount() {
        this.interval = setInterval(() => this.tick(), 1000);
      }

      render() {
        return React.createElement(Blueprint.Core.Spinner, {
          value: 1 - this.state.seconds / 60,
          intent: Blueprint.Core.Intent.DANGER
        });
      }
    }

    ReactDOM.render(React.createElement(Timer), countdownEl);
  </script>

  <script>
    const seconds = document.querySelector('.timer-seconds');
    const ding = document.querySelector('#sound-ding');

    const interval = setInterval(() => {
      const oldVal = seconds.innerText;
      const newVal = oldVal - 1;

      if (newVal < 1) {
        clearInterval(interval);
        seconds.innerText = '00';
        ding.play();
      } else {
        seconds.innerText = newVal < 10 ? `0${newVal}` : newVal;
      }
    }, 1000);
  </script>
</body>

</html>